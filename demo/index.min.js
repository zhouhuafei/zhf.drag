(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
const Drag = require('../dist/index.min');
const offset = require('zhf.offset');
const checkDomImpact = require('zhf.check-dom-impact'); // 检测dom碰撞
const itemAll = document.querySelectorAll('.wrap1 .item');
const itemLen = itemAll.length;
const zeroWrap = document.querySelector('.zero-wrap');
const zero = zeroWrap.querySelector('.zero');
new Drag({
    item: '.zero',
    callback: {},
    config: {
        limitLeftMin: 0,
        limitLeftMax: zeroWrap.offsetWidth - zero.offsetWidth,
        limitTopMin: 0,
        limitTopMax: zeroWrap.offsetHeight - zero.offsetHeight,
        isAdsorption: true,
    },
    data: {},
});
itemAll.forEach(function (item, i) {
    new Drag({
        item: item,
        callback: {},
        config: {
            limitTopMin: -i * item.offsetHeight,
            limitTopMax: (itemLen - 1 - i) * item.offsetHeight,
            direction: 'col',
        },
        data: {},
    });
});

new Drag({
    item: '.wrap2 .item-drag',
    callback: {
        mouseDown: function (obj) {
            obj.dom.style.transition = '0s';
            obj.dom.parentNode.classList.add('active');
        },
        mouseMove: function (obj) {
            const arr = [];
            itemAll.forEach(function (item) {
                if (checkDomImpact(obj.dom, item)) {
                    arr.push(item);
                }
            });
            // 碰撞之后检测距离谁最近
            if (arr.length) {
                console.log(arr);
            }
        },
        mouseUp: function (obj) {
            obj.dom.style.transition = '0.4s';
            obj.dom.style.left = '0';
            obj.dom.style.top = '0';
            obj.dom.parentNode.classList.remove('active');
        },
    },
    config: {},
    data: {},
});

},{"../dist/index.min":2,"zhf.check-dom-impact":3,"zhf.offset":6}],2:[function(require,module,exports){
"use strict";var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var extend=require("zhf.extend"),getDomArray=require("zhf.get-dom-array"),Super=function(){function t(e){_classCallCheck(this,t),this.opts=extend({item:"",callback:{mouseDown:function(){},mouseMove:function(){},mouseUp:function(){}},config:{hasIconMove:!0,direction:"all",limitLeftMin:null,limitLeftMax:null,limitTopMin:null,limitTopMax:null,isAdsorption:!1,adsorptionDistance:20},data:{}},e),this.init()}return _createClass(t,[{key:"init",value:function(){var t=this,e=this.opts,i=e.config;getDomArray(e.item).forEach(function(e){"static"===getComputedStyle(e).position&&(e.style.position="relative"),i.hasIconMove&&"move"!==getComputedStyle(e).cursor&&(e.style.cursor="move"),t.events(e)})}},{key:"events",value:function(t){var e=this;function i(t){t.preventDefault(),t.stopPropagation();var i=e.opts,o=i.config,n=o.direction,l=t.clientX-e.disX,a=t.clientY-e.disY;null!==o.limitLeftMin&&(o.isAdsorption?l<=o.limitLeftMin+o.adsorptionDistance&&(l=o.limitLeftMin):l<=o.limitLeftMin&&(l=o.limitLeftMin)),null!==o.limitLeftMax&&(o.isAdsorption?l>=o.limitLeftMax-o.adsorptionDistance&&(l=o.limitLeftMax):l>=o.limitLeftMax&&(l=o.limitLeftMax)),null!==o.limitTopMin&&(o.isAdsorption?a<=o.limitTopMin+o.adsorptionDistance&&(a=o.limitTopMin):a<=o.limitTopMin&&(a=o.limitTopMin)),null!==o.limitTopMax&&(o.isAdsorption?a>=o.limitTopMax-o.adsorptionDistance&&(a=o.limitTopMax):a>=o.limitTopMax&&(a=o.limitTopMax)),e.item.style.right="auto",e.item.style.bottom="auto","all"===n&&(e.item.style.left=l+"px",e.item.style.top=a+"px"),"col"===n&&(e.item.style.top=a+"px"),"row"===n&&(e.item.style.left=l+"px"),i.callback.mouseMove({dom:e.item,left:e.oGetComputedStyle.left,top:e.oGetComputedStyle.top})}function o(t){t.preventDefault(),t.stopPropagation();var n=e.opts;document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",o),n.callback.mouseUp({dom:e.item,left:e.oGetComputedStyle.left,top:e.oGetComputedStyle.top})}t.addEventListener("mousedown",function(t){t.preventDefault(),t.stopPropagation();var n=e.opts;e.item=this;var l=getComputedStyle(this);e.oGetComputedStyle=l,e.disX=t.clientX-l.left.replace("px",""),e.disY=t.clientY-l.top.replace("px",""),document.addEventListener("mousemove",i),document.addEventListener("mouseup",o),n.callback.mouseDown({dom:e.item,left:e.oGetComputedStyle.left,top:e.oGetComputedStyle.top})})}}]),t}();module.exports=Super;
},{"zhf.extend":4,"zhf.get-dom-array":5}],3:[function(require,module,exports){
"use strict";var offset=require("zhf.offset"),getDomArray=require("zhf.get-dom-array");function checkDomImpact(t,f){var e=getDomArray(t)[0],o=getDomArray(f)[0],r=offset(e).left>offset(o).left+o.offsetWidth,s=offset(e).left+e.offsetWidth<offset(o).left,a=offset(e).top>offset(o).top+o.offsetHeight,m=offset(e).top+o.offsetHeight<offset(o).top;return!(r||s||a||m)}module.exports=checkDomImpact;
},{"zhf.get-dom-array":5,"zhf.offset":6}],4:[function(require,module,exports){
"use strict";function extend(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=Object.prototype.toString.call(t).slice(8,-1).toLowerCase();return r===Object.prototype.toString.call(e).slice(8,-1).toLowerCase()&&o&&("object"===r||"array"===r)?Object.keys(e).forEach(function(r){var c=Object.prototype.toString.call(t[r]).slice(8,-1).toLowerCase();c===Object.prototype.toString.call(e[r]).slice(8,-1).toLowerCase()&&o&&("object"===c||"array"===c)?extend(t[r],e[r]):t[r]=e[r]}):t=e,t}module.exports=extend;
},{}],5:[function(require,module,exports){
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):("object"!==Object.prototype.toString.call(window.zhf).slice(8,-1).toLowerCase()&&(window.zhf={}),window.zhf.getDomArray=t())}(0,function(){function e(e,t){for(var o=t;o!==e&&null!==o;)o=o.parentNode;return o===e}return function(t,o){var n=[],l=document;if(o&&(l="string"===Object.prototype.toString.call(o).slice(8,-1).toLowerCase()?document.querySelector(o):1===o.nodeType?o:o===document?o:"htmlcollection"===Object.prototype.toString.call(o).slice(8,-1).toLowerCase()||"nodelist"===Object.prototype.toString.call(o).slice(8,-1).toLowerCase()?[].slice.call(o)[0]:null),!l)return[];if(t)if("string"===Object.prototype.toString.call(t).slice(8,-1).toLowerCase())n=[].slice.call(l.querySelectorAll(t));else if(1===t.nodeType)n=[t],o&&(e(l,t)||(n=[]));else if(t===document)n=[t],o&&(n=[]);else if(("htmlcollection"===Object.prototype.toString.call(t).slice(8,-1).toLowerCase()||"nodelist"===Object.prototype.toString.call(t).slice(8,-1).toLowerCase())&&(n=[].slice.call(t),o)){var r=[];n.forEach(function(t){e(l,t)&&r.push(t)}),n=r}return n}});
},{}],6:[function(require,module,exports){
"use strict";var getDomArray=require("zhf.get-dom-array");function offset(e){var t=0,r=0;for(e=getDomArray(e)[0];e;)t+=e.offsetTop,r+=e.offsetLeft,e=e.offsetParent;return{top:t,left:r}}module.exports=offset;
},{"zhf.get-dom-array":5}]},{},[1])