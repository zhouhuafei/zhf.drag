(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
const Drag = require('../dist/index.min');
const offset = require('zhf.offset');
const checkDomImpact = require('zhf.check-dom-impact'); // 检测dom碰撞

// zero
const zeroWrap = document.querySelector('.zero-wrap');
const zero = zeroWrap.querySelector('.zero');
new Drag({
    item: zero,
    callback: {},
    config: {
        limitLeftMin: 0,
        limitLeftMax: zeroWrap.offsetWidth - zero.offsetWidth,
        limitTopMin: 0,
        limitTopMax: zeroWrap.offsetHeight - zero.offsetHeight,
        isAdsorption: true,
    },
    data: {},
});

// hint
const hint = document.createElement('span');
hint.className = 'drag-hint';
hint.innerHTML = `拖拽放到此处`;

// wrap1拖拽
const wrap1 = document.querySelector('.wrap1');
const item1All = wrap1.querySelectorAll('.item');
const item1Len = item1All.length;
new Drag({
    item: item1All,
    callback: {
        mouseDownBefore(obj) {
            const self = obj.self;
            const dom = obj.dom;
            dom.style.position = 'absolute';
            dom.style.left = `${dom.offsetLeft}px`;
            dom.style.top = `${dom.offsetTop}px`;
            hint.style.width = `${dom.offsetWidth}px`;
            hint.style.height = `${dom.offsetHeight}px`;
            wrap1.insertBefore(hint, dom);
            self.opts.config.limitTopMax = wrap1.offsetHeight - dom.offsetHeight;
        },
        mouseMoveAfter(obj) {
            const dom = obj.dom;
            const impact = [];
            item1All.forEach(function (item) {
                if (item !== dom && checkDomImpact(dom, item)) {
                    impact.push(item);
                }
            });
            impact.forEach(function (item) {
                const domTop = dom.offsetTop;
                const domHeight = dom.offsetHeight;
                const domBottom = domTop + domHeight;
                const itemTop = item.offsetTop;
                const itemHeight = item.offsetHeight;
                const itemBottom = itemTop + itemHeight;
                if (domTop <= itemTop + itemHeight / 2 && domBottom > itemTop + itemHeight / 2) {
                    // console.log('从下往上');
                }
                if (domTop < itemTop + itemHeight / 2 && domBottom >= itemTop + itemHeight / 2) {
                    // console.log('从上往下');
                }
            });
            // 换位置待续...
        },
        mouseUpAfter(obj) {
            const dom = obj.dom;
            dom.setAttribute('style', '');
            wrap1.insertBefore(obj.dom, hint);
            wrap1.removeChild(hint);
        },
    },
    config: {
        limitTopMin: 0,
        direction: 'col',
    },
    data: {},
});

// wrap2拖拽
const wrap2 = document.querySelector('.wrap2');
const item2All = wrap2.querySelectorAll('.item');
const item2Len = item2All.length;

},{"../dist/index.min":2,"zhf.check-dom-impact":3,"zhf.offset":6}],2:[function(require,module,exports){
"use strict";var _createClass=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var extend=require("zhf.extend"),getDomArray=require("zhf.get-dom-array"),Super=function(){function e(t){_classCallCheck(this,e),this.opts=extend({item:"",callback:{mouseDownBefore:function(){},mouseDownAfter:function(){},mouseMoveBefore:function(){},mouseMoveAfter:function(){},mouseUpBefore:function(){},mouseUpAfter:function(){}},config:{hasIconMove:!0,direction:"all",limitLeftMin:null,limitLeftMax:null,limitTopMin:null,limitTopMax:null,isAdsorption:!1,adsorptionDistance:20},data:{}},t),this.init()}return _createClass(e,[{key:"init",value:function(){var e=this,t=this.opts,o=t.config;getDomArray(t.item).forEach(function(t){"static"===getComputedStyle(t).position&&(t.style.position="relative"),o.hasIconMove&&"move"!==getComputedStyle(t).cursor&&(t.style.cursor="move"),e.events(t)})}},{key:"events",value:function(e){var t=this;function o(e){e.preventDefault(),e.stopPropagation();var o=t.opts;t.item=this,t.moveSpeedX=0,t.moveSpeedY=0,t.moveDirectionX="no-move",t.moveDirectionY="no-move",t.prevMoveClientX=e.clientX,t.prevMoveClientY=e.clientY,t.mouseDownClientX=e.clientX,t.mouseDownClientY=e.clientY;var l=o.callback;l.mouseDownBefore({self:t,ev:e,dom:t.item});var r=getComputedStyle(this);t.oGetComputedStyle=r,t.disX=e.clientX-r.left.replace("px",""),t.disY=e.clientY-r.top.replace("px",""),document.addEventListener("mousemove",i),document.addEventListener("mouseup",n),l.mouseDownAfter({self:t,ev:e,dom:t.item})}function i(e){e.preventDefault(),e.stopPropagation();var o=t.opts,i=o.callback;i.mouseMoveBefore({self:t,ev:e,dom:t.item});var n=o.config,l=n.direction,r=e.clientX-t.disX,m=e.clientY-t.disY;null!==n.limitLeftMin&&(n.isAdsorption?r<=n.limitLeftMin+n.adsorptionDistance&&(r=n.limitLeftMin):r<=n.limitLeftMin&&(r=n.limitLeftMin)),null!==n.limitLeftMax&&(n.isAdsorption?r>=n.limitLeftMax-n.adsorptionDistance&&(r=n.limitLeftMax):r>=n.limitLeftMax&&(r=n.limitLeftMax)),null!==n.limitTopMin&&(n.isAdsorption?m<=n.limitTopMin+n.adsorptionDistance&&(m=n.limitTopMin):m<=n.limitTopMin&&(m=n.limitTopMin)),null!==n.limitTopMax&&(n.isAdsorption?m>=n.limitTopMax-n.adsorptionDistance&&(m=n.limitTopMax):m>=n.limitTopMax&&(m=n.limitTopMax)),t.item.style.right="auto",t.item.style.bottom="auto","all"===l&&(t.item.style.left=r+"px",t.item.style.top=m+"px"),"col"===l&&(t.item.style.top=m+"px"),"row"===l&&(t.item.style.left=r+"px"),t.moveSpeedX=e.clientX-t.prevMoveClientX,t.moveSpeedY=e.clientY-t.prevMoveClientY,t.moveSpeedX>0?t.moveDirectionX="right":t.moveSpeedX<0&&(t.moveDirectionX="left"),t.moveSpeedY>0?t.moveDirectionY="bottom":t.moveSpeedY<0&&(t.moveDirectionY="top"),t.prevMoveClientX=e.clientX,t.prevMoveClientY=e.clientY,i.mouseMoveAfter({self:t,ev:e,dom:t.item})}function n(e){e.preventDefault(),e.stopPropagation();var o=t.opts.callback;o.mouseUpBefore({self:t,ev:e,dom:t.item}),document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",n),o.mouseUpAfter({self:t,ev:e,dom:t.item})}e.removeEventListener("mousedown",o),document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",n),e.addEventListener("mousedown",o)}}]),e}();module.exports=Super;
},{"zhf.extend":4,"zhf.get-dom-array":5}],3:[function(require,module,exports){
"use strict";var offset=require("zhf.offset"),getDomArray=require("zhf.get-dom-array");function checkDomImpact(t,f){var e=getDomArray(t)[0],o=getDomArray(f)[0],r=offset(e).left>offset(o).left+o.offsetWidth,s=offset(e).left+e.offsetWidth<offset(o).left,a=offset(e).top>offset(o).top+o.offsetHeight,m=offset(e).top+o.offsetHeight<offset(o).top;return!(r||s||a||m)}module.exports=checkDomImpact;
},{"zhf.get-dom-array":5,"zhf.offset":6}],4:[function(require,module,exports){
"use strict";function extend(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=Object.prototype.toString.call(t).slice(8,-1).toLowerCase();return r===Object.prototype.toString.call(e).slice(8,-1).toLowerCase()&&o&&("object"===r||"array"===r)?Object.keys(e).forEach(function(r){var c=Object.prototype.toString.call(t[r]).slice(8,-1).toLowerCase();c===Object.prototype.toString.call(e[r]).slice(8,-1).toLowerCase()&&o&&("object"===c||"array"===c)?extend(t[r],e[r]):t[r]=e[r]}):t=e,t}module.exports=extend;
},{}],5:[function(require,module,exports){
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):("object"!==Object.prototype.toString.call(window.zhf).slice(8,-1).toLowerCase()&&(window.zhf={}),window.zhf.getDomArray=t())}(0,function(){function e(e,t){for(var o=t;o!==e&&null!==o;)o=o.parentNode;return o===e}return function(t,o){var n=[],l=document;if(o&&(l="string"===Object.prototype.toString.call(o).slice(8,-1).toLowerCase()?document.querySelector(o):1===o.nodeType?o:o===document?o:"htmlcollection"===Object.prototype.toString.call(o).slice(8,-1).toLowerCase()||"nodelist"===Object.prototype.toString.call(o).slice(8,-1).toLowerCase()?[].slice.call(o)[0]:null),!l)return[];if(t)if("string"===Object.prototype.toString.call(t).slice(8,-1).toLowerCase())n=[].slice.call(l.querySelectorAll(t));else if(1===t.nodeType)n=[t],o&&(e(l,t)||(n=[]));else if(t===document)n=[t],o&&(n=[]);else if(("htmlcollection"===Object.prototype.toString.call(t).slice(8,-1).toLowerCase()||"nodelist"===Object.prototype.toString.call(t).slice(8,-1).toLowerCase())&&(n=[].slice.call(t),o)){var r=[];n.forEach(function(t){e(l,t)&&r.push(t)}),n=r}return n}});
},{}],6:[function(require,module,exports){
"use strict";var getDomArray=require("zhf.get-dom-array");function offset(e){var t=0,r=0;for(e=getDomArray(e)[0];e;)t+=e.offsetTop,r+=e.offsetLeft,e=e.offsetParent;return{top:t,left:r}}module.exports=offset;
},{"zhf.get-dom-array":5}]},{},[1])