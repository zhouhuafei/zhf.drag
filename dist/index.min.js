"use strict";var _createClass=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var extend=require("zhf.extend"),getDomArray=require("zhf.get-dom-array"),offset=require("zhf.offset"),Super=function(){function e(t){_classCallCheck(this,e),this.opts=extend({item:"",callback:{mouseDown:function(){},mouseMove:function(){},mouseUp:function(){}},config:{},data:{}},t),this.init()}return _createClass(e,[{key:"init",value:function(){var e=this,t=getDomArray(this.opts.item),o=[];t.forEach(function(e){o.push({dom:e,left:e.offsetLeft,top:e.offsetTop})}),o.forEach(function(t){var o=t.dom;"static"===getComputedStyle(o).position&&(o.style.position="absolute",o.style.left=t.left+"px",o.style.top=t.top+"px",o.style.cursor="move"),e.events(o)}),this.itemDom=t}},{key:"events",value:function(e){var t=this;function o(e){e.preventDefault(),e.stopPropagation();var o=t.opts.callback,n=e.clientX-t.disX,s=e.clientY-t.disY;this.style.right="auto",this.style.bottom="auto",this.style.left=n+"px",this.style.top=s+"px",o.mouseMove()}function n(e){e.preventDefault(),e.stopPropagation(),t.opts.callback.mouseUp(),document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",n)}e.addEventListener("mousedown",function(e){e.preventDefault(),e.stopPropagation();var s=t.opts.callback;t.disX=e.clientX-offset(this).left,t.disY=e.clientY-offset(this).top,s.mouseDown(),document.addEventListener("mousemove",o),document.addEventListener("mouseup",n)})}}]),e}();module.exports=Super;