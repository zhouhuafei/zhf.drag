"use strict";var _createClass=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var extend=require("zhf.extend"),getDomArray=require("zhf.get-dom-array"),Super=function(){function e(t){_classCallCheck(this,e),this.opts=extend({item:"",callback:{mouseDown:function(){},mouseMove:function(){},mouseUp:function(){}},config:{hasIconMove:!0,direction:"all"},data:{}},t),this.init()}return _createClass(e,[{key:"init",value:function(){var e=this,t=this.opts,o=t.config;getDomArray(t.item).forEach(function(t){"static"===getComputedStyle(t).position&&(t.style.position="relative"),o.hasIconMove&&"move"!==getComputedStyle(t).cursor&&(t.style.cursor="move"),e.events(t)})}},{key:"events",value:function(e){var t=this;function o(e){e.preventDefault(),e.stopPropagation();var o=t.opts,n=o.config.direction,i=e.clientX-t.disX,l=e.clientY-t.disY;t.item.style.right="auto",t.item.style.bottom="auto","all"===n&&(t.item.style.left=i+"px",t.item.style.top=l+"px"),"col"===n&&(t.item.style.top=l+"px"),"row"===n&&(t.item.style.left=i+"px"),o.callback.mouseMove({dom:t.item,left:t.oGetComputedStyle.left,top:t.oGetComputedStyle.top})}function n(e){e.preventDefault(),e.stopPropagation();var i=t.opts;document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",n),i.callback.mouseUp({dom:t.item,left:t.oGetComputedStyle.left,top:t.oGetComputedStyle.top})}e.addEventListener("mousedown",function(e){e.preventDefault(),e.stopPropagation();var i=t.opts;t.item=this;var l=getComputedStyle(this);t.oGetComputedStyle=l,t.disX=e.clientX-l.left.replace("px",""),t.disY=e.clientY-l.top.replace("px",""),document.addEventListener("mousemove",o),document.addEventListener("mouseup",n),i.callback.mouseDown({dom:t.item,left:t.oGetComputedStyle.left,top:t.oGetComputedStyle.top})})}}]),e}();module.exports=Super;